# 根据可见手牌和牌河生成雀魂牌谱

相关仓库: [根据可见手牌和牌河生成天凤牌谱](https://github.com/wuye999/tenhou)

## 输入

打开 [pic2majsoul.js](pic2majsoul.js), 根据你的截图修改 `json` 变量, 注释如下

```js
/**
 * 何切模式分为两类:
 * 1. 自家摸牌后选择切什么牌(第一类何切)
 * 2. 其他家切牌后自家是否要鸣牌, 和鸣牌后切什么牌(第二类何切)
 */
let json = {
    player_count: 4, // 玩家数
    chang_ju_ben_num: [0, 0, 0], // 所在小局, 第一个是什么场, 第二个是谁坐庄, 第三个是本场数, 第四个是刚开局时场上立直棒个数(默认为0)
    mainrole: 2, // 主视角的 seat
    tiles: '0566m6p89s', // 主视角在何切的巡目的手牌(若是第一类何切, 则不包含刚摸的牌)
    lst_mopai: '', // 第一类何切中何切巡目刚摸的牌, 若是第二类何切, 则要置为空
    dora: ['0p'], // 宝牌指示牌, 从左到右
    scores: [25000, 25000, 25000, 25000], // 所有玩家这小局开始时的点数

    // 各家的牌河, 牌不要缩写, 包含被鸣走的牌
    // 牌有后缀g表示摸切, 无g则为手切
    // 有后缀r表示立直, 无r表示非立直
    // g和r顺序不分先后
    paihe0: '3z9s1p2pg8m9p1z4s5mr',
    paihe1: '7z2z3m5z1sg1zg4zg4zg',
    paihe2: '9p7z6z2p8m4s4zg1mg',
    paihe3: '9p7zg9s7sg5sg4z4p7pg',

    // 各家的副露, 按时间顺序从左到右
    // '_'表示下一张牌是倾倒的鸣的其他家的牌, '^'表示加杠, 先'_'后'^'
    // 大明杠对家的牌的'_'放在第二个数字前
    // 暗杠的巡目在轮到该暗杠副露时的下一个摸牌巡, 加杠的巡目在碰对应副露之后下一个摸牌巡
    fulu0: [],
    fulu1: [],
    fulu2: ['_555z', '_111z'],
    fulu3: [],
};
```

## 加载并放映

1. 登录网页版雀魂, F12 打开控制台
2. 载入 [main.js](../../main.js),
3. 再输入编辑后的 [pic2majsoul.js](pic2majsoul.js),
4. 随便选择一个谱查看, 跳转到对应巡目即可

动画切的牌, 副露的牌和实际显示不一致是很正常的, 不必在意

另见: [天凤牌谱编辑器数据转雀魂格式](天凤牌谱编辑器数据转雀魂格式.md)
